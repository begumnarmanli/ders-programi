<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ders Çalışma Programı</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="/ders-programi/manifest.json" />

    <!-- Favicon ve PWA için simge -->
    <link rel="icon" href="/ders-programi/icons/icon-256.png" />

    <!-- Stil Dosyası -->
    <link rel="stylesheet" href="/ders-programi/style.css" />

    <!-- Flatpickr CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

    <!-- Flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/tr.js"></script>
    
    <!-- PWA için meta etiketleri -->
    <meta name="theme-color" content="#006064" />
    <meta name="description" content="Ortaokul ders çalışmaları için hazırlanan bir uygulama." />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  </head>
  <body>
    <div id="auth-container" class="auth-container">
      <div class="auth-box">
        <h2>Giriş Yap</h2>
        <form id="auth-form" class="auth-form" onsubmit="return false;" autocomplete="off">
          <input type="email" id="email" placeholder="E-posta" required autocomplete="username">
          <input type="password" id="password" placeholder="Şifre" required autocomplete="current-password">
          <div class="auth-buttons">
            <button type="button" id="login-btn">Giriş Yap</button>
            <button type="button" id="signup-btn">Kayıt Ol</button>
          </div>
          <p id="auth-message"></p>
        </form>
      </div>
    </div>

    <!-- App Container -->
    <div id="app-container" class="hidden">
      <div class="container">
        <h1>Ders Çalışma Programı</h1>



        <!-- Programın ana içeriği -->
        <!-- Tarih Seçme Kutusu -->

<div id="date-picker-container">
  <!-- <label for="date-picker">Tarihe Git:</label> -->
  <!-- <button onclick="goToDate()">Tarih Seçin:</button> -->
   <label for="date-picker">Tarih Seçin:</label>
  <input type="text" id="date-picker">
</div>


        <div id="program-container">
          <table>
            <thead>
              <tr>
                <th>Günler</th>
                <th>Türkçe</th>
                <th>Matematik</th>
                <th>Fen Bilimleri</th>
                <th>Sosyal Bilgiler</th>
                <th>İngilizce</th>
                <th>Din Kültürü ve Ahlâk Bilgisi</th>
              </tr>
            </thead>
            <tbody id="table-body">
              <!-- JavaScript ile günler ve ders saatleri eklenecek -->
            </tbody>
          </table>
        </div>
                <div class="controls">
          <button id="prev-week">
            <i class="fas fa-chevron-left"></i>
            Önceki Hafta
          </button>
           <button id="save">
            <i class="fas fa-floppy-disk"></i>
            Kaydet
          </button>
          <button id="print-pdf">
            <i class="fas fa-print"></i>
            PDF Olarak Yazdır
          </button>
          <button id="next-week">
            Sonraki Hafta
            <i class="fas fa-chevron-right"></i>
          </button>
          <button id="logout-btn">
            <i class="fas fa-sign-out-alt"></i>
            Çıkış Yap
          </button>
          <div id="save-message" class="save-message hidden">Kaydedildi ✓</div>

        </div>
      </div>
    </div>

    <!-- Karanlık Mod Butonu -->
    <button id="dark-mode-toggle">
      <i id="dark-mode-icon" class="fas fa-moon"></i>
    </button>

    <!-- Service Worker için gerekli PWA kodu -->
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", function () {
          navigator.serviceWorker.register("/ders-programi/service-worker.js").then(
            function (registration) {
              console.log(
                "ServiceWorker registered with scope:",
                registration.scope
              );
            },
            function (err) {
              console.log("ServiceWorker registration failed:", err);
            }
          );
        });
      }
    </script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

<!-- Ana JavaScript dosyası -->
<script src="/ders-programi/script.js"></script>
    
    <!-- Footer -->
    <footer class="footer">
        <p class="footer-text">
    &copy; 2025 Begüm Narmanlı tarafından tasarlanmıştır.
    <span class="footer-break">Tüm hakları saklıdır.</span>
  </p>
    </footer>

    <!-- Çıkış Onay Modalı -->
<div id="logout-modal" class="modal hidden">
  <div class="modal-content">
    <p>Çıkmak istediğinize emin misiniz?</p>
    <div class="modal-buttons">
      <button id="cancel-logout" type="button">Hayır</button>
      <button id="confirm-logout" type="button">Evet</button>
    </div>
  </div>
</div>

<!-- İnternet bağlantısı yoksa gösterilecek uyarı ekranı -->
<div id="offline-warning">İnternet bağlantınızı kontrol edin.<br>Bağlantı sağlandığında sayfa otomatik olarak devam edecektir.</div>

  </body>
</html>